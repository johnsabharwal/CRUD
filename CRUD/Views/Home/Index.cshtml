@{
    ViewData["Title"] = "Home Page";
}
<div class="container">
    <div class="row">
        <div class="col-lg-4">
            <h2>Users</h2>

        </div>
        <div class="col-lg-8" style="display:inline-flex">
            <input type="text" class="form-control" placeholder="Search" />
            <input type="button" class="btn btn-warning" value="Add User" />


        </div>
    </div>
    <table class="table table-hover" ng-app="myApp" ng-controller="myCtrl">
        <thead data-ng-init="LoadUsers()">
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role Type</th>
                <th>Status</th>

            </tr>
        </thead>
        <tbody ng-repeat="user in Users">
            <tr>
                <td>{{user.name}}</td>
                <td>{{user.email}}</td>
                <td>{{user.roleType}}</td>
                <td>{{user.status}}</td>

            </tr>

        </tbody>
    </table>
</div>
@section scripts{
    <script>
        var app = angular.module('myApp', []);
        app.controller('myCtrl', function ($scope) {


            $scope.init = function () {
                $scope.LoadUsers();
            }
            $scope.LoadUsers = function () {
                $.ajax({
                    type: "POST",
                    url: "Home/List",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (result) {
                        $scope.Users = result;
                        $scope.$apply();
                    }
                });
            }
        });
    </script>
}
